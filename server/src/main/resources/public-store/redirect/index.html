<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404 - Page Not Found | DataBench</title>
    <link rel="icon" href="../img/icon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../js/cookie.js"></script>
    <script src="https://kit.fontawesome.com/85182ea83e.js" crossorigin="anonymous"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#1E293B'
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-gray-100 dark:bg-secondary text-gray-900 dark:text-gray-100 min-h-screen flex flex-col">

<header id="header"></header>

<main class="flex-grow flex items-center justify-center px-6">
    <div class="text-center max-w-xl">

        <h2 class="text-6xl font-extrabold text-primary mb-4">
            Redirecting...
        </h2>

        <p class="text-gray-600 dark:text-gray-300 mb-8">
            You are being redirected to <span id="redirect-info" class="text-blue-500 underline cursor-pointer"></span>...
            If not, please click <a class="text-blue-500 underline cursor-pointer" id="manual-link" target="_blank">this link</a>
        </p>

    </div>
</main>

<footer></footer>
<script src="../js/general.js"></script>
<script>
    function queryParams() {
        const queryString = window.location.search;
        const p = new URLSearchParams(queryString);
        if (!p.has('dat')) return;
        let realP = new URLSearchParams(atob(p.get('dat')));
        let redirectURL = realP.get('redirect');
        document.getElementById('redirect-info').innerText = redirectURL;
        document.getElementById('manual-link').href = redirectURL;
        setTimeout(() => {
            let result = window.open(redirectURL, '_blank');
            if (result !== null) window.location.href = '/';
        }, 3000);
    }
    queryParams();

</script>

</body>
</html>
