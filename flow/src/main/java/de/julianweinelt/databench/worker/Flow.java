package de.julianweinelt.databench.worker;

import de.julianweinelt.databench.worker.storage.LocalStorage;
import lombok.Getter;
import lombok.extern.slf4j.Slf4j;

import java.io.File;

@Slf4j
public class Flow {
    private static Flow instance;

    @Getter
    private LocalStorage storage;

    public static void main(String[] args) {
        instance = new Flow();
        instance.start();
    }

    public static Flow instance() {
        return instance;
    }

    private void start() {
        logo();
        log.info("Welcome! Starting DbxWorker...");
        storage = new LocalStorage(new File("config.json"));
        if (!storage.configCreated()) {

        }
        storage.load();
    }

    private void logo() {
        System.out.println("""
                                      ..:=:-----:=-:..                   \s
                          .=*###########*****++++====----:::::....       \s
                      %%###############*****++++====----:::::.........:  \s
                    %%@%##############****+++++====----::::........... # \s
                    +%%@############*****++++====----:::::...........-%@ \s
                    +-:.%%########*****+++++====----:::::.......-#%@@##% \s
                    =-:.......+%@@@%########***+++*####@@@@@@@@###*++### \s
                    =-:........::-==++*++===+++*#####%%@@@%#####**++*### \s
                    =-:........::-==++*+++==+++**######%%######**+++*### \s
                    =-:.......:::-==++*+++==+++**##############**+++*### \s
                    =-:.......::--==++*+++==+++**##############***++*##+ \s
                       .......::--==++*+++==+++**##############***++*  . \s
                    =-      .:::--==++*+++=++++**##############- ...  ## \s
                    =---:.               .:-====-:.   ............-#%### \s
                    =-:...-*=::::.  ...... ...........:::-+###%@#+-:=*## \s
                    =-:........:-=*##%%%#########%@@@@@@@%####+==--:=+## \s
                    =-:..........::--===-::::---==+*#########*+==--:-+## \s
                   .=-:..........::--==--::::---==+*########*++==--:-+## \s
                    :-:..........::--==--:::::---=++*#######*++==--:-+*+ \s
                   ..  ..........::---=--:::::---==+*#######*+==---:-. . \s
                   .#*      .....::------:::::---==+*######*++=-..... ## \s
                    ++#*=            ..::::::--------:.....:::.....##**# \s
                    =-:.:*##=-=-......................:::-=*#####+::-=+# \s
                   .=-:......:-+####################%@@@@@####+=--::-=+# \s
                    =-:..........::-====--::::---=+*#########+=--::::=+# \s
                    =-:..........::--==--:::::---==+*######*++=--::.:=+* \s
                    --:..........::---=--::::::---==+*#####*+=--:::.:-++ \s
                      ...........::---=--::::::---==++**#**+==--:::.::   \s
                           ......::---=--::::::---===+****++=---.        \s
                                   .-:----::::::--===-:-                 \s
                """);
    }
}
